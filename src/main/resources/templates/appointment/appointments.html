<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Patients</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
        crossorigin="anonymous">
</head>
<body>
<div class="back">
  <a th:href="@{/hospitals/details/{hospitalId}(hospitalId=${hospitalId})}" class="btn btn-outline-danger">back</a>
</div>
<div>
  <p style="text-align:center;">
    <a th:href="@{/appointments/{hospitalId}/new(hospitalId=${hospitalId})}">Add new appointment</a>
  </p>

</div>
<table class="table">
  <thead class="table-dark">
  <tr>
    <th scope="colgroup">ID</th>
    <th scope="colgroup">Local date</th>
    <th scope="colgroup">Department</th>
    <th scope="colgroup">Doctor</th>
    <th scope="colgroup">Patient</th>
    <th scope="colgroup">Update</th>
    <th scope="colgroup">Delete</th>

  </tr>
  </thead>
  <tbody>
  <tr th:each="appointment:${appointments}">
    <td th:text="${appointment.id}"></td>
    <td th:text="${appointment.date}"></td>
    <td th:text="${appointment.getDepartment().name}"></td>
    <td th:text="${appointment.getDoctor().firstName+appointment.getDoctor().lastName}"></td>
    <td th:text="${appointment.getPatient().firsName+appointment.getPatient().lastName}"></td>


    <td>
      <form th:method="GET" th:action="@{/appointments/{hospitalId}/{appointmentId}/edit(hospitalId=${hospitalId}, appointmentId=${appointment.getId()})}">
        <input type="submit" class="btn btn-outline-primary"  th:value="  Update  ">
      </form>
    </td>
    <td>
      <form th:method="GET" th:action="@{/appointments/{hospitalId}/{appointmentId}/delete(hospitalId=${hospitalId},appointmentId=${appointment.getId()})}">
        <input type="submit" class="btn btn-outline-primary"  th:value="  Delete  ">
      </form>
    </td>
  </tr>
  </tbody>
</table>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
